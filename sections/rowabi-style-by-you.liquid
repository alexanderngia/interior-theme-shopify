<style>
  .rowabi-style-by-you .swiper {
      width: 100%;
    }

    .rowabi-style-by-you .swiper-slide {
      background-position: center;
      background-size: cover;
      width: 25%;
      height: 391px;
    }
    @media only screen and (max-width: 768px) {
      .rowabi-style-by-you .swiper-slide {
        width: 270px;
        height: 300px;
        margin-right: 0px !important;
      }
    }

    .rowabi-style-by-you .swiper-slide img {
      display: block;
      height: 391px;
    }
</style>
<div class="rowabi-my-[32px] md:rowabi-my-[60px] md:rowabi-mx-[98px]">
  <{{ section.settings.heading_tag }} style='font-family: "Sainte Colombe", serif;' class="rowabi-text-lg md:rowabi-text-3xl rowabi-text-center rowabi-text-[#444139]">{{ section.settings.title }}</{{ section.settings.heading_tag }}>
  <div class="rowabi-relative rowabi-pl-[16px]  rowabi-mt-[19px] rowabi-mb-[20px] md:rowabi-mt-[36px] md:rowabi-mb-[34px]">
    <div class="swiper mySwiperStyleByYou " >
      <div class="swiper-wrapper ">
        {% for block in section.blocks %}
          <div class="swiper-slide">
            <div class="rowabi-w-full rowabi-h-full" style="
              background:url(https:{{ block.settings.image | img_url: 'master'}});
              background-position:center;background-repeat:no-repeat;background-size:cover;
              "></div>  
          </div>
        {% endfor %}
       </div>
    </div>
      <div class="swiper-button-prev-{{ section.id }} rowabi-absolute rowabi-top-[48%] rowabi-left-[1%] rowabi-z-[99] rowabi-hidden md:rowabi-block">
        <svg id="defaultPrev-{{ section.id }}" width="40" height="40" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="20.492" cy="20.2108" r="19.8885" fill="#F9F9F9"/><circle cx="20.492" cy="20.2108" r="19.3885" stroke="#444139" stroke-opacity="0.2"/><mask id="mask0_815_2427" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="13" y="13" width="15" height="15"><rect x="27.4531" y="13.25" width="13.922" height="13.922" transform="rotate(90 27.4531 13.25)" fill="#C4C4C4"/></mask><g mask="url(#mask0_815_2427)"><path d="M22.5035 25.4392C22.3512 25.4413 22.2027 25.3939 22.082 25.3048L15.5266 20.3599C15.448 20.3006 15.3841 20.2249 15.3399 20.1387C15.2956 20.0524 15.272 19.9577 15.2708 19.8614C15.2696 19.7652 15.2908 19.6699 15.3329 19.5825C15.375 19.4952 15.4369 19.418 15.514 19.3567L21.916 14.2758C21.9839 14.222 22.0622 14.1816 22.1464 14.1569C22.2305 14.1322 22.3189 14.1237 22.4065 14.1318C22.5833 14.1483 22.746 14.2316 22.8588 14.3636C22.9716 14.4955 23.0252 14.6652 23.008 14.8353C22.9907 15.0054 22.9039 15.162 22.7666 15.2707L17.0076 19.8403L22.9089 24.2888C23.0179 24.371 23.0977 24.4837 23.1373 24.6114C23.1769 24.7391 23.1742 24.8755 23.1297 25.0018C23.0852 25.1281 23.0011 25.238 22.8889 25.3164C22.7767 25.3947 22.642 25.4377 22.5035 25.4392Z" fill="#444139"/></g></svg>
        <svg id="focusPrev-{{ section.id }}" class="rowabi-hidden" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="19.8883" cy="19.8886" r="19.8885" transform="rotate(180 19.8883 19.8886)" fill="#444139"/>
          <rect width="13.922" height="13.922" transform="translate(26.8491 12.9275) rotate(90)" fill="#444139"/>
          <mask id="mask0_2098_1137" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="12" y="12" width="15" height="15">
          <rect x="26.8491" y="12.9275" width="13.922" height="13.922" transform="rotate(90 26.8491 12.9275)" fill="#C4C4C4"/>
          </mask>
          <g mask="url(#mask0_2098_1137)">
          <path d="M21.8995 25.1167C21.7472 25.1188 21.5987 25.0714 21.478 24.9823L14.9226 20.0374C14.8439 19.978 14.7801 19.9024 14.7359 19.8162C14.6916 19.7299 14.668 19.6352 14.6668 19.5389C14.6656 19.4427 14.6868 19.3474 14.7289 19.26C14.771 19.1727 14.8329 19.0955 14.91 19.0341L21.312 13.9533C21.3799 13.8995 21.4582 13.8591 21.5424 13.8344C21.6265 13.8097 21.7149 13.8012 21.8024 13.8093C21.9793 13.8258 22.142 13.9091 22.2548 14.0411C22.3676 14.173 22.4212 14.3427 22.404 14.5128C22.3867 14.6829 22.2999 14.8395 22.1626 14.9482L16.4036 19.5178L22.3048 23.9663C22.4139 24.0485 22.4937 24.1612 22.5333 24.2889C22.5729 24.4166 22.5702 24.553 22.5257 24.6793C22.4812 24.8056 22.397 24.9155 22.2849 24.9939C22.1727 25.0722 22.038 25.1152 21.8995 25.1167Z" fill="#FCF9F5"/>
          </g>
        </svg>
      </div>
      <div class="swiper-button-next-{{ section.id }} rowabi-absolute rowabi-top-[48%] rowabi-right-[1%] rowabi-z-[99] rowabi-hidden md:rowabi-block">
        <svg id="defaultNext-{{ section.id }}" width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="19.8888" cy="19.8886" r="19.8885" transform="rotate(180 19.8888 19.8886)" fill="#F9F9F9"/>
          <circle cx="19.8888" cy="19.8886" r="19.3885" transform="rotate(180 19.8888 19.8886)" stroke="#444139" stroke-opacity="0.2"/>
          <mask id="mask0_1_948" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="12" y="12" width="15" height="15">
          <rect x="12.9277" y="26.8494" width="13.922" height="13.922" transform="rotate(-90 12.9277 26.8494)" fill="#C4C4C4"/>
          </mask>
          <g mask="url(#mask0_1_948)">
          <path d="M17.8774 14.6601C18.0297 14.6581 18.1782 14.7054 18.2989 14.7946L24.8543 19.7394C24.9329 19.7988 24.9967 19.8744 25.041 19.9607C25.0852 20.047 25.1089 20.1417 25.1101 20.2379C25.1113 20.3342 25.09 20.4295 25.048 20.5168C25.0059 20.6042 24.944 20.6814 24.8668 20.7427L18.4649 25.8236C18.3969 25.8774 18.3186 25.9178 18.2345 25.9425C18.1503 25.9672 18.062 25.9757 17.9744 25.9676C17.7976 25.9511 17.6349 25.8677 17.5221 25.7358C17.4093 25.6039 17.3556 25.4342 17.3729 25.2641C17.3902 25.0939 17.477 24.9373 17.6142 24.8287L23.3733 20.259L17.472 15.8105C17.3629 15.7284 17.2831 15.6157 17.2436 15.488C17.204 15.3603 17.2067 15.2238 17.2512 15.0975C17.2957 14.9712 17.3798 14.8613 17.492 14.783C17.6042 14.7046 17.7388 14.6617 17.8774 14.6601V14.6601Z" fill="#444139"/>
          </g>
        </svg>
        <svg id="focusNext-{{ section.id }}" class="rowabi-hidden" width="40" height="40" viewBox="0 0 41 41" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="20.5086" cy="20.2108" r="19.8885" fill="#444139"/>
          <rect width="13.922" height="13.922" transform="translate(13.5479 27.1719) rotate(-90)" fill="#444139"/>
          <mask id="mask0_815_2422" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="13" y="13" width="15" height="15">
            <rect x="13.5479" y="27.1719" width="13.922" height="13.922" transform="rotate(-90 13.5479 27.1719)" fill="#C4C4C4"/>
          </mask>
          <g mask="url(#mask0_815_2422)">
            <path d="M18.4975 14.9826C18.6498 14.9806 18.7983 15.0279 18.919 15.1171L25.4744 20.0619C25.553 20.1213 25.6168 20.1969 25.6611 20.2832C25.7054 20.3695 25.729 20.4642 25.7302 20.5604C25.7314 20.6567 25.7102 20.752 25.6681 20.8393C25.626 20.9267 25.5641 21.0039 25.487 21.0652L19.085 26.1461C19.017 26.1999 18.9387 26.2403 18.8546 26.265C18.7704 26.2897 18.6821 26.2982 18.5945 26.2901C18.4177 26.2736 18.255 26.1902 18.1422 26.0583C18.0294 25.9264 17.9757 25.7567 17.993 25.5866C18.0103 25.4165 18.0971 25.2598 18.2343 25.1512L23.9934 20.5815L18.0921 16.133C17.9831 16.0509 17.9032 15.9382 17.8637 15.8105C17.8241 15.6828 17.8268 15.5463 17.8713 15.42C17.9158 15.2938 17.9999 15.1838 18.1121 15.1055C18.2243 15.0271 18.359 14.9842 18.4975 14.9826Z" fill="#FCF9F5"/>
          </g>
        </svg>
      </div>
    
  </div>
  
  <div class="rowabi-flex rowabi-justify-center ">
    <a href="{{ section.settings.button_link }}" class="rowabi-font-bold rowabi-text-center rowabi-text-white rowabi-text-xs md:rowabi-text-sm rowabi-bg-[#444139] rowabi-px-[12px] rowabi-py-[10px] md:rowabi-px-[30px] md:rowabi-py-[12px]">
        {{ section.settings.button_content }}
    </a>
  </div>
  
</div>

<!-- Initialize Swiper -->
<script>
  var swiper = new Swiper(".mySwiperStyleByYou", {
    slidesPerView: "{{ section.settings.products_per_page }}",
    spaceBetween: 10,
    navigation: {
      nextEl: ".swiper-button-next-{{ section.id }}",
      prevEl: ".swiper-button-prev-{{ section.id }}",
    },
    breakpoints: {
      767: {
        spaceBetween: 30,
      },
    },
  });
</script>

<script>
  document.addEventListener('DOMContentLoaded', () => {
      const nextBtn = document.querySelector('.swiper-button-next-{{ section.id }}');
      const defaultNext = document.querySelector('#defaultNext-{{ section.id }}');
      const focusNext = document.querySelector('#focusNext-{{ section.id }}');
  
      if (nextBtn && defaultNext && focusNext) {
        nextBtn.addEventListener('focus', () => {
          defaultNext.classList.add('rowabi-hidden');
          focusNext.classList.remove('rowabi-hidden');
        });
  
        nextBtn.addEventListener('blur', () => {
          defaultNext.classList.remove('rowabi-hidden');
          focusNext.classList.add('rowabi-hidden');
        });
      }
  
      const prevBtn = document.querySelector('.swiper-button-prev-{{ section.id }}');
      const defaultPrev = document.querySelector('#defaultPrev-{{ section.id }}');
      const focusPrev = document.querySelector('#focusPrev-{{ section.id }}');
  
      if (prevBtn && defaultPrev && focusPrev) {
        prevBtn.addEventListener('focus', () => {
          defaultPrev.classList.add('rowabi-hidden');
          focusPrev.classList.remove('rowabi-hidden');
        });
  
        prevBtn.addEventListener('blur', () => {
          defaultPrev.classList.remove('rowabi-hidden');
          focusPrev.classList.add('rowabi-hidden');
        });
      }
  });
</script>              
          
{% schema %}
{
  "name": "Rowabi Style By You",
  "class": "rowabi-style-by-you",
  "tag": "section",
  "max_blocks": 10,
  "settings": [
    {
      "type": "select",
      "id": "heading_tag",
      "label": "Heading tag",
      "options": [
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h3",
          "label": "H3"
        },
        {
          "value": "h4",
          "label": "H4"
        },
        {
          "value": "h5",
          "label": "H5"
        },
        {
          "value": "h6",
          "label": "H6"
        },
        {
          "value": "p",
          "label": "P"
        }
      ],
      "default": "h1"
    },
    {
      "type": "inline_richtext",
      "id": "title",
      "label": "t:global.text.heading",
      "default": "STYLE BY YOU"
    },
    {
       "type": "url",
       "id": "button_link",
       "label": "Button url"
     },
    {
      "type": "inline_richtext",
      "id": "button_content",
      "label": "Button Content",
      "default": "SEE THE FULL THE GALLERY"
    },
    {
      "type": "range",
      "id": "products_per_page",
      "min": 1,
      "max": 4,
      "step": 1,
      "label": "Number of collumns",
      "default": 4
    }
  ],
  "blocks": [
    {
      "type": "item",
      "name": "t:sections.timeline.blocks.item.name",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Rowabi Style By You",
    }
  ]
}
{% endschema %}